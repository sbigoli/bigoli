<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Informações Financeiras</title>
</head>
<body>
  <p id="selic"></p>
  <p id="previsaoCopom"></p>
  <p id="dolarAmericano"></p>
  <p id="abertura"></p>
  <p id="parcial1"></p>
  <p id="parcial2"></p>
  <p id="fechamento"></p>

  <script>
    // Função para obter a Selic
    async function getSelic() {
      const response = await fetch('https://api.bcb.gov.br/dados/serie/bcdata.sgs.11/dados/ultimos/1?formato=json');
      const data = await response.json();
      const selic = data[0].valor;
      const dataVigencia = new Date(data[0].data);
      document.getElementById('selic').innerText = `Selic (${dataVigencia.toLocaleDateString()}): ${selic}%`;
    }

    // Função para obter a previsão do Copom
    async function getPrevisaoCopom() {
      const response = await fetch('https://api.bcb.gov.br/dados/serie/bcdata.sgs.431/ultimos/1?formato=json');
      const data = await response.json();
      const previsao = data[0].valor;
      document.getElementById('previsaoCopom').innerText = `Previsão Copom: ${previsao}%`;
    }

    // Função para obter a cotação do dólar americano
    async function getCotacaoDolar() {
      const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
      const data = await response.json();
      const dataAtual = new Date(data.date);
      const abertura = data.rates.BRL ? data.rates.BRL.toFixed(2) : 'aguardando';
      const parcial1 = data.rates.BRL ? data.rates.BRL.toFixed(2) : 'aguardando';
      const parcial2 = data.rates.BRL ? data.rates.BRL.toFixed(2) : 'aguardando';
      const fechamento = data.rates.BRL ? data.rates.BRL.toFixed(2) : 'aguardando';

      document.getElementById('dolarAmericano').innerText = `Dólar Americano (${dataAtual.toLocaleDateString()}):`;
      document.getElementById('abertura').innerText = `Abertura = ${abertura}`;
      document.getElementById('parcial1').innerText = `Parcial 1 = ${parcial1}`;
      document.getElementById('parcial2').innerText = `Parcial 2 = ${parcial2}`;
      document.getElementById('fechamento').innerText = `Fechamento = ${fechamento}`;
    }

    // Função para atualizar as informações a cada 15 minutos
    function updateInfo() {
      getSelic();
      getPrevisaoCopom();
      getCotacaoDolar();
    }

    // Chamando a função de atualização inicial e configurando para repetir a cada 15 minutos
    updateInfo();
    setInterval(updateInfo, 15 * 60 * 1000); // 15 minutos em milissegundos
  </script>
</body>
</html>
